<!doctype html>
<html lang="ru">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EVE Tracker</title>

  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <h1>EVE Tracker</h1>

  <!-- Страница авторизации -->
  <div id="login-container" class="panel" style="display:flex; gap:12px; align-items:center;">
    <button id="loginBtn">Login with EVE</button>

    <div>
      <div style="font-weight:600;">Статус:</div>
      <div id="status">не залогинен</div>
    </div>
  </div>

  <p style="margin-top:14px;">
    Версия: <span id="v">dev</span>
  </p>

  <!-- порядок важен -->
  <script type="module" src="js/config.js"></script>
  <script type="module" src="js/ui.js"></script>
  <script type="module" src="js/auth.js"></script>
  <script type="module" src="js/esi.js"></script>
  <script type="module" src="js/standings.js"></script>
  <script type="module" src="js/main.js"></script>

  <!-- версия (build SHA) -->
  <script>
    fetch("https://api.github.com/repos/instachad/test/commits?per_page=1")
      .then(r => r.json())
      .then(data => {
        const sha = (data?.[0]?.sha || "").substring(0, 7);
        document.getElementById('v').textContent = sha ? ("build " + sha) : "dev";
      })
      .catch(() => {
        document.getElementById('v').textContent = "dev";
      });
  </script>

</body>

</html>
